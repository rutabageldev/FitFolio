schema: 1
area: auth.email
updated: 2025-11-13
owners:
- backend-auth
- qa
items:
- id: AUTH-EMAIL-001
  title: Email verify success marks user verified
  level: integration
  markers:
  - integration
  - security
  risk: critical
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-13
- id: AUTH-EMAIL-002
  title: Email already verified is idempotent (200)
  level: integration
  markers:
  - integration
  - security
  risk: low
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-13
- id: AUTH-EMAIL-003
  title: Email verify invalid token returns 400
  level: integration
  markers:
  - integration
  - security
  risk: critical
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_error_paths.py
  last_verified: 2025-11-13
- id: AUTH-EMAIL-004
  title: Resend verification success
  level: integration
  markers:
  - integration
  - security
  risk: critical
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_authorization.py
  last_verified: 2025-11-13
- id: AUTH-EMAIL-101
  title: Email verify already verified is idempotent (200)
  level: integration
  markers:
  - integration
  - security
  risk: low
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-13
-
  id: AUTH-EMAIL-201
  title: Email verify inactive user returns 400
  level: integration
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-202
  title: Email verify sets session cookie with correct flags
  level: integration
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-203
  title: Resend verification non-existent or verified user returns 200 (no enumeration)
  level: integration
  markers:
  - integration
  - security
  risk: low
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verification.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-204
  title: Resend verification email send failure returns 500 and logs error
  level: integration
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_error_paths.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-300
  title: Verify email handler success sets cookie and session
  level: unit
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verify_handler.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-301
  title: Verify email handler invalid token 400
  level: unit
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verify_error_paths_handler.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-302
  title: Verify email handler inactive user 400
  level: unit
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_verify_error_paths_handler.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-303
  title: Resend verification handler sends email and logs event
  level: unit
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_resend_handler.py
  last_verified: 2025-11-14
-
  id: AUTH-EMAIL-304
  title: Resend verification handler send failure returns 500
  level: unit
  markers:
  - integration
  - security
  risk: medium
  status: implemented
  tests:
  - backend/tests/auth/email/test_email_resend_handler.py
  last_verified: 2025-11-14
